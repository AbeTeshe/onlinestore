{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { ipfsURL } from '../components/IPFS/ipfsURL.js';\nvar initialMainState = {\n  products: []\n};\nexport var mainSlice = createSlice({\n  name: \"main\",\n  initialState: initialMainState,\n  reducers: {\n    createProduct: function createProduct(state, action) {\n      // const formattedPrice = action.payload.price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      state.products = action.payload;\n\n      for (var i = 0; i < state.products.length; i++) {\n        state.products[i].price = action.payload[i].price.formatted_with_symbol;\n        state.products[i].ipfsURL = ipfsURL.products[i].ipfsURL;\n      }\n    },\n    updateProduct: function updateProduct(state, action) {\n      var foundIndex = state.products.findIndex(function (product) {\n        return product.id === action.payload.id;\n      });\n      state.products[foundIndex][action.payload.name] = action.payload.value;\n    },\n    deleteProduct: function deleteProduct(state, action) {\n      var foundIndex = state.products.findIndex(function (product) {\n        return product.id === action.payload;\n      });\n      delete state.products[foundIndex]; // state.products.splice(foundIndex,1);\n\n      return action.payload !== foundIndex; //   function deleteSingleNotification(notifications, notificationId){\n      //     return notifications.filter (notification => {\n      //         return notification.id !== notificationId\n      //     }\n      // }\n    },\n    addNewProduct: function addNewProduct(state, action) {\n      console.log(\"addNewProduct\");\n    }\n  }\n});\nvar _mainSlice$actions = mainSlice.actions,\n    createProduct = _mainSlice$actions.createProduct,\n    updateProduct = _mainSlice$actions.updateProduct,\n    deleteProduct = _mainSlice$actions.deleteProduct,\n    getProductList = _mainSlice$actions.getProductList;\nexport { createProduct, updateProduct, deleteProduct, getProductList };\nexport default mainSlice.reducer;","map":{"version":3,"sources":["/Users/stanley/Desktop/IPFS/Ecommerce/react-ecommerce-main/src/core/mainSlice.js"],"names":["createSlice","ipfsURL","initialMainState","products","mainSlice","name","initialState","reducers","createProduct","state","action","payload","i","length","price","formatted_with_symbol","updateProduct","foundIndex","findIndex","product","id","value","deleteProduct","addNewProduct","console","log","actions","getProductList","reducer"],"mappings":"AAAA,SAAQA,WAAR,QAA0B,kBAA1B;AACA,SAAQC,OAAR,QAAsB,+BAAtB;AACA,IAAMC,gBAAgB,GAAG;AACvBC,EAAAA,QAAQ,EAAE;AADa,CAAzB;AAKA,OAAO,IAAMC,SAAS,GAAGJ,WAAW,CAAC;AAEnCK,EAAAA,IAAI,EAAE,MAF6B;AAGnCC,EAAAA,YAAY,EAAEJ,gBAHqB;AAInCK,EAAAA,QAAQ,EAAE;AAERC,IAAAA,aAAa,EAAE,uBAACC,KAAD,EAAOC,MAAP,EAAkB;AAC/B;AACFD,MAAAA,KAAK,CAACN,QAAN,GAAiBO,MAAM,CAACC,OAAxB;;AACA,WAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGH,KAAK,CAACN,QAAN,CAAeU,MAAlC,EAA0CD,CAAC,EAA3C,EAA8C;AAC9CH,QAAAA,KAAK,CAACN,QAAN,CAAeS,CAAf,EAAkBE,KAAlB,GAA0BJ,MAAM,CAACC,OAAP,CAAeC,CAAf,EAAkBE,KAAlB,CAAwBC,qBAAlD;AACAN,QAAAA,KAAK,CAACN,QAAN,CAAeS,CAAf,EAAkBX,OAAlB,GAA4BA,OAAO,CAACE,QAAR,CAAiBS,CAAjB,EAAoBX,OAAhD;AACC;AACA,KATO;AAWRe,IAAAA,aAAa,EAAC,uBAACP,KAAD,EAAOC,MAAP,EAAkB;AAC9B,UAAMO,UAAU,GAAGR,KAAK,CAACN,QAAN,CAAee,SAAf,CAAyB,UAAAC,OAAO;AAAA,eAAIA,OAAO,CAACC,EAAR,KAAeV,MAAM,CAACC,OAAP,CAAeS,EAAlC;AAAA,OAAhC,CAAnB;AACAX,MAAAA,KAAK,CAACN,QAAN,CAAec,UAAf,EAA2BP,MAAM,CAACC,OAAP,CAAeN,IAA1C,IAAkDK,MAAM,CAACC,OAAP,CAAeU,KAAjE;AACF,KAdQ;AAgBRC,IAAAA,aAAa,EAAE,uBAACb,KAAD,EAAOC,MAAP,EAAiB;AAC9B,UAAMO,UAAU,GAAGR,KAAK,CAACN,QAAN,CAAee,SAAf,CAAyB,UAAAC,OAAO;AAAA,eAAIA,OAAO,CAACC,EAAR,KAAeV,MAAM,CAACC,OAA1B;AAAA,OAAhC,CAAnB;AACA,aAAOF,KAAK,CAACN,QAAN,CAAec,UAAf,CAAP,CAF8B,CAG9B;;AACA,aAAOP,MAAM,CAACC,OAAP,KAAmBM,UAA1B,CAJ8B,CAMhC;AACA;AACA;AACA;AACA;AACC,KA3BO;AA6BPM,IAAAA,aAAa,EAAE,uBAACd,KAAD,EAAQC,MAAR,EAAmB;AACjCc,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD;AA/BO;AAJyB,CAAD,CAA7B;AAsCE,yBAKHrB,SAAS,CAACsB,OALP;AAAA,IACLlB,aADK,sBACLA,aADK;AAAA,IAELQ,aAFK,sBAELA,aAFK;AAAA,IAGLM,aAHK,sBAGLA,aAHK;AAAA,IAILK,cAJK,sBAILA,cAJK;;AAOP,eAAevB,SAAS,CAACwB,OAAzB","sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\nimport {ipfsURL} from '../components/IPFS/ipfsURL.js'\nconst initialMainState = {\n  products: [],\n};\n\n\nexport const mainSlice = createSlice({\n\n  name: \"main\",\n  initialState: initialMainState,\n  reducers: {\n\n    createProduct: (state,action) => {\n      // const formattedPrice = action.payload.price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    state.products = action.payload;  \n    for(let i = 0; i < state.products.length; i++){\n    state.products[i].price = action.payload[i].price.formatted_with_symbol;  \n    state.products[i].ipfsURL = ipfsURL.products[i].ipfsURL;\n    } \n    },\n\n    updateProduct:(state,action) => {\n      const foundIndex = state.products.findIndex(product => product.id === action.payload.id);\n      state.products[foundIndex][action.payload.name] = action.payload.value;\n   },\n\n    deleteProduct: (state,action) =>{\n      const foundIndex = state.products.findIndex(product => product.id === action.payload);\n      delete state.products[foundIndex];\n      // state.products.splice(foundIndex,1);\n      return action.payload !== foundIndex;\n\n    //   function deleteSingleNotification(notifications, notificationId){\n    //     return notifications.filter (notification => {\n    //         return notification.id !== notificationId\n    //     }\n    // }\n    },\n\n     addNewProduct: (state, action) => {\n      console.log(\"addNewProduct\");\n    },\n  }\n  });\n  export const {\n    createProduct,\n    updateProduct,\n    deleteProduct,\n    getProductList\n  } = mainSlice.actions;\n\n  export default mainSlice.reducer;"]},"metadata":{},"sourceType":"module"}