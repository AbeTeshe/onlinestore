{"ast":null,"code":"import _asyncToGenerator from \"/Users/stanley/Desktop/IPFS/Ecommerce/react-ecommerce-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/stanley/Desktop/IPFS/Ecommerce/react-ecommerce-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/stanley/Desktop/IPFS/Ecommerce/react-ecommerce-main/src/components/SellerDashboard/SellerDashboard.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/Users/stanley/Desktop/IPFS/Ecommerce/react-ecommerce-main/node_modules/@babel/runtime/regenerator/index.js\";\nimport React, { useState } from 'react';\nimport { Typography, AppBar, Toolbar, Button, Grid, TextField, Paper } from '@material-ui/core';\nimport useStyles from './styles';\nimport { create } from 'ipfs-http-client';\nimport { TrackProducts } from './TrackProducts';\nimport { useDispatch } from 'react-redux';\nimport { addNewProduct } from \"../../core/mainSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar client = create('https://ipfs.infura.io:5001');\n\nvar SellerDashboard = function SellerDashboard(_ref) {\n  _s();\n\n  var products = _ref.products;\n  var classes = useStyles();\n\n  var _useState = useState(' '),\n      _useState2 = _slicedToArray(_useState, 2),\n      fileUrl = _useState2[0],\n      updateFileUrl = _useState2[1];\n\n  function onChange(_x) {\n    return _onChange.apply(this, arguments);\n  }\n\n  function _onChange() {\n    _onChange = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var file, added, url;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              file = e.target.files[0];\n              _context.prev = 1;\n              _context.next = 4;\n              return client.add(file);\n\n            case 4:\n              added = _context.sent;\n              url = \"https://ipfs.infura.io/ipfs/\".concat(added.path);\n              updateFileUrl(url);\n              console.log(url);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(\"error uploading file: \", _context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 10]]);\n    }));\n    return _onChange.apply(this, arguments);\n  }\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    console.log('submit');\n  };\n\n  var handleAddNewProduct = function handleAddNewProduct(e) {\n    e.preventDefault();\n    console.log(\"Add New Product\");\n  };\n\n  var onFieldChange = function onFieldChange(e) {\n    var value = e.target.value;\n    var name = e.target.name;\n    console.log(name, value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        OnSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.title,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"List New Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 9\n          }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"name\",\n                label: \"Product Name\",\n                placeholder: \"Product Name\",\n                variant: \"outlined\",\n                onChange: function onChange(e) {\n                  return onFieldChange(e);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 8\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 10\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"price\",\n                label: \"Product Price\",\n                placeholder: \"Product Price\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 10\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"description\",\n                label: \"Product Description\",\n                placeholder: \"Product Description\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 11\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 10\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                name: \"quantity\",\n                label: \"Product Quantity\",\n                placeholder: \"Product Quantity\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 11\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 10\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                onChange: onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 10\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: handleAddNewProduct,\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 10\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 10\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 6\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 8\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(TrackProducts, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(SellerDashboard, \"Qm2ylurkTAmjrJvZVELCWo0NHdk=\", false, function () {\n  return [useStyles];\n});\n\n_c = SellerDashboard;\nexport default SellerDashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"SellerDashboard\");","map":{"version":3,"sources":["/Users/stanley/Desktop/IPFS/Ecommerce/react-ecommerce-main/src/components/SellerDashboard/SellerDashboard.js"],"names":["React","useState","Typography","AppBar","Toolbar","Button","Grid","TextField","Paper","useStyles","create","TrackProducts","useDispatch","addNewProduct","client","SellerDashboard","products","classes","fileUrl","updateFileUrl","onChange","e","file","target","files","add","added","url","path","console","log","handleSubmit","preventDefault","handleAddNewProduct","onFieldChange","value","name","title"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {  \n    Typography, \n    AppBar, \n    Toolbar, \n    Button,\n    Grid, \n    TextField, \n    Paper \n} from '@material-ui/core';\nimport useStyles from './styles';\nimport {create} from 'ipfs-http-client';\nimport {TrackProducts} from './TrackProducts';\nimport { useDispatch } from 'react-redux';\nimport {addNewProduct} from \"../../core/mainSlice\";\n\nconst client = create('https://ipfs.infura.io:5001');\n\nconst SellerDashboard = ({products}) => {\n\n   \n    const classes = useStyles();\n    const [fileUrl, updateFileUrl] = useState(' ');\n    async function onChange(e){\n        const file = e.target.files[0];\n        try{\n          const added = await client.add(file);\n          const url = `https://ipfs.infura.io/ipfs/${added.path}`;\n          updateFileUrl(url);\n          console.log(url);\n        }catch(error){\n          console.log(\"error uploading file: \",error);\n        }\n      }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        console.log('submit');\n      }\n\n    const handleAddNewProduct = e => {\n\n        e.preventDefault();\n        console.log(\"Add New Product\");\n    }\n const onFieldChange = (e) => {\n   const value = e.target.value;\n   const name = e.target.name;\n    console.log(name, value);\n  }\n    return (\n        <>\n        <Paper>\n            <form OnSubmit={handleSubmit}>\n       <div className={classes.title}>\n        <Typography  variant=\"h6\" gutterBottom>\n         List New Product\n       </Typography>\n     <Grid container spacing={2}>\n         <Grid item xs={6}>\n        \n       <TextField\n           name=\"name\"\n            label=\"Product Name\"\n            placeholder=\"Product Name\"\n            variant=\"outlined\"\n            onChange={e => onFieldChange(e)}\n         /> \n         </Grid>\n         <Grid item xs={6}>\n         <TextField\n           name=\"price\"\n            label=\"Product Price\"\n            placeholder=\"Product Price\"\n            variant=\"outlined\"\n         /> \n         </Grid>\n         <Grid item xs={6}>\n          <TextField\n           name=\"description\"\n            label=\"Product Description\"\n            placeholder=\"Product Description\"\n            variant=\"outlined\"\n         /> \n         </Grid>\n         {/* <Grid item xs={12}>\n          <TextField\n           name=\"mediaUrl\"\n            label=\"Product Media Url\"\n            placeholder=\"Product Media Url\"\n            variant=\"outlined\"\n         /> \n         </Grid> */}\n         <Grid item xs={6}>\n          <TextField\n           name=\"quantity\"\n            label=\"Product Quantity\"\n            placeholder=\"Product Quantity\"\n            variant=\"outlined\"\n         /> \n         </Grid>\n         <Grid item xs={12}>\n         <input \n        type=\"file\"\n        onChange={onChange}\n      />\n      {/* {\n        fileUrl && (\n        <img src={fileUrl} width=\"600px\" />\n        )\n      } */}\n         </Grid>\n         <Grid item xs={12}>\n         <Button \n         variant=\"contained\" \n         color=\"primary\"\n         onClick={handleAddNewProduct}\n         >\n             Add\n         </Button>\n         </Grid>\n      </Grid>\n      \n      </div>\n      </form>\n      </Paper>\n        <TrackProducts/>\n    </>\n    )\n}\n\nexport default SellerDashboard;"]},"metadata":{},"sourceType":"module"}